为保证稳定性,请勿将程序在系统盘以及移动介质中运行.
本程序基于SQLserver2012及.net3.5 理论上支持更高版本SQLserver与.net.
查看本指南前请先阅读"文件说明.txt"并保证您已知晓大致文件分布

/**
如果能正常打开,请忽略注释部分.

若环境不支持程序正常运行
请找到三个*.sql文件
init.sql为创建及插入数据操作.
sotre.sql为恢复操作.
back,sql为备份操作.
注意:以上文件均需进行字符串替换才可正常使用;
"@DATANAME","@DATABASENAME"替换为数据库名
"@RUNDIRECTORY","@FILEPATH"替换为数据库文件路径/备份路径
向user_info插入用户信息后密码将由触发器进行加密.
向order_cache插入订单信息后,将由触发器分配订单号,座位号,并插入order_info,order_form进行保存.
修改视图traffic_all的已售出的座位数量traffic_count时,触发器将自动修改对应的表中数据.
执行"exec dij '出发地点','2000-1-1 1:1:1','目的地',(操作,1,最快,2,最便宜,4,换乘最少.8,可乘坐大巴,16,火车,32,高铁,64飞机.1,2,4尽可选1个,后四个可多选,选项数值相加填入此处)";
完成后,dij_ans中存有推荐路线部分信息,进行补全即为完整信息.
由于不完全权限账户的创建由c#程序完成,因此若不能正常打开程序,已有代码无法完成.

然后其他各种查询操作...联合查询代码超长的_(:з」∠)_..不写了不写了.....
**/




第一次打开主程序时,将在程序运行目录创建数据库.若创建失败.打开backup.exe点删除,并在traffic_conf.ini中修改数据库名后重试.

正常弹出主界面后,将以游客身份登录,可进行查询路线,以及更换用户操作.


[查询路线]
选择出发地点,目的地点,出发时间(默认数据未更新,且随机生成,不具备逻辑性以及时效性,仅为演示用.建议出发时间年份改为2017之前以便于体验),筛选条件后,单击"查询路线"按钮,右侧即可显示目前可行的订票方案.
[注册]
单击"更换用户",将弹出登录页面,可进行登录,注册操作.
[登录]
演示程序内默认用户:
putong,putong	已实名用户,(可查询路线,生成订单,付款,查看历史订单,修改个人信息)
test,test	未实名用户(可查询路线,修改个人信息,进行实名认证(点一下按钮假装实名制... )
feng,feng	被封禁用户,(可修改个人信息)
2017001,000000	管理员(可查询路线.修改个人信息,打开命令行界面)
2017002,000000	管理员
2017003,000000	管理员
[注册]
流程与各论坛注册流程大致相同,id未被使用,且所有信息符合条件即可注册成功.
新用户登陆后,可实名制,充值,以及修改个人信息
[实名制]
点击"实名认证"按钮即可
[充值]
点击蓝色"充值"字样即弹出充值界面,然后单击"我已付款"按钮即充值成功,另外欢迎扫码打赏
[修改个人信息]
点击用户昵称即可进入个人信息修改界面,需要输入当前密码验证,其他要求同注册.
实名制后即可选择生成订单与购票操作.
[生成订单]
单击"生成订单"按钮即可进入订单生成界面.若之前进行过成功的查询路线操作,则会自动读取该次推荐结果加入订单.另外订单中亦可手动添加购票信息.
若账户余额不足本次订单金额,左上角订单金额将变为红色且不能成功提交订单,请先充值.
[购票]
确认订单信息无误以及余额充足后,单击"提交"按钮,将自动扣款.
[查看历史订单]
购票成功后,可在"我的订单"界面找到自己之前的订单,以及订单状态.退票及其他功能暂未开发.
[管理员]
以管理账号登录即可打开命令行操作界面,该窗口编辑框中输入的所有内容将直接交至SQL服务由全权限用户身份进行分析执行,请谨慎操作.
[备份,恢复和删除]
打开backup.exe即可进行备份操作.同目录下存在备份文件时恢复操作变为可用.删除操作将删除数据库文件,请谨慎.